<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content>
        <meta name="author" content="Денис Шевченко">
        <link rel="icon" href="../../static/images/favicon.ico">

        <title>Чистая функциональность</title>

        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">

        <link href="../../static/css/default.css" rel="stylesheet">
        
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>

        <script>
          window.___gcfg = {
            lang: 'ru'
          };
        </script>

        <script src="https://apis.google.com/js/platform.js" async defer>
        </script>
    </head>

  <body>
    <div class="container">
        <nav class="navbar navbar-default navbar-fixed-top">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <div id="logo">
                <a class="navbar-brand" href="../../ru/index.html" title="Домой">
                  О Haskell по-человечески
                </a>
              </div>
            </div>
            
            <div id="navbar" class="collapse navbar-collapse">
              <ul class="nav navbar-nav navbar-right">
                <li><a href="../../ru/chapters.html">Оглавление</a></li>
              </ul>
            </div>
          </div>
        </nav>

        <div id="content">
            <h1>Чистая функциональность</h1>

            <p>Haskell - чисто функциональный язык программирования общего назначения. Разберёмся, что это значит.</p>
<h2 id="императивный-подход">Императивный подход</h2>
<p>Исторически сложилось так, что наиболее популярным ныне подходом к написанию программ является императивный подход (от английского imperative, приказание). При таком подходе программа представляет собой набор инструкций, которые должны быть выполнены строго в порядке их объявления. Кроме того, императивное программирование подразумевает обязательное наличие оператора присваивания, ведь программист часто меняет состояние множества переменных. Изменение состояния (или значения) переменных является одним из краеугольных камней императивного подхода.</p>
<p>Следствием такого подхода является тот факт, что <em>любая</em> функция в программе способна изменять значение той или иной переменной, даже если это изменение касается глобального состояния программы или внешнего мира. Например, любая функция в C++-коде потенциально способна не только изменить длину какого-нибудь глобального контейнера, но и переписать некий файл, изменить запись в БД, отправить HTTP-запрос или вывести текст на экран. С одной стороны, это удобно, но с другой стороны, это игра с огнём. Ведь если в моей императивной программе есть, скажем, три тысячи функций, я вынужден крайне внимательно следить за тем, что делает каждая из них. Не важно, <em>как</em> я буду это делать, важно что это прибавит мне головной боли. И мой личный опыт разработки на императивных языках убедительно доказал мне это.</p>
<h2 id="декларативный-подход">Декларативный подход</h2>
<p>Существует принципиально иной подход к написанию программ, а именно декларативный (от английского declarative, описание), при котором программа представляет собой набор описаний того, что должен представлять собою конечный результат. И как бы странно это ни звучало, декларативное программирование часто позволяет нам вообще не думать о порядке выполнения инструкций. Приведу пример.</p>
<p>Допустим, у нас есть две следующие функции:</p>
<pre class="sourceCode haskell"><code class="sourceCode haskell">f1 x <span class="fu">=</span> x <span class="fu">*</span> x

f2 x <span class="fu">=</span> x <span class="fu">*</span> x <span class="fu">*</span> x</code></pre>
<p>Назначение этих функций предельно понятно: первая возвращает значение, равное квадрату своего единственного аргумента, а вторая - кубу своего единственного аргумента. Таким образом:</p>
<pre class="sourceCode haskell"><code class="sourceCode haskell">f1 <span class="dv">2</span> <span class="fu">=</span> <span class="dv">2</span> <span class="fu">*</span> <span class="dv">2</span> <span class="fu">=</span> <span class="dv">4</span>

f2 <span class="dv">2</span> <span class="fu">=</span> <span class="dv">2</span> <span class="fu">*</span> <span class="dv">2</span> <span class="fu">*</span> <span class="dv">2</span> <span class="fu">=</span> <span class="dv">8</span></code></pre>
<p>А теперь напишем так:</p>
<pre class="sourceCode haskell"><code class="sourceCode haskell">sum <span class="fu">=</span> (f1 <span class="dv">2</span>) <span class="fu">+</span> (f2 <span class="dv">2</span>) <span class="fu">=</span> (<span class="dv">4</span>) <span class="fu">+</span> (<span class="dv">8</span>) <span class="fu">=</span> <span class="dv">12</span></code></pre>
<p>Тут тоже всё ясно: вызываем каждую из двух функций, а значение <code>sum</code> будет равным сумме возвращённых функциями значений.</p>
<p>А теперь вопрос вам, уважаемый читатель: какая из этих двух функций будет вызвана <em>первой</em> по счёту? Думаете, <code>f1</code>? Правда в том, что когда речь идёт о декларативном подходе, порядок вызова этих двух функций не важен. Не имеет никакого значения, какое число будет посчитано первым, 4 или 8. Важно, что значение <code>sum</code> в любом случае будет равным 12. Мы как будто говорим компилятору: “Друг, вот тебе две функции, реши, пожалуйста, сам, какую из них вызывать первой. Мы не хотим об этом думать, нам важен только конечный результат.”</p>
<p>Так вот функциональное программирование является одним из воплощений декларативного подхода. И если сказанное выше сбило вас с толку, то я усилю ваше удивление и упомяну такие свойства языка Haskell, как:</p>
<ol style="list-style-type: decimal">
<li>отсутствие оператора присваивания,</li>
<li>чёткая разница между чистыми функциями и функциями с побочными эффектами,</li>
<li>ленивость вычислений.</li>
</ol>
<p>Звучит весьма странно, не так ли? Пойдём же вперёд, и увидим, насколько глубока эта кроличья нора. ;-)</p>

<div class="row">
    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
        <div class="clear-button text-left">
            <div class="chapters-selector">
                <a href="../../ru/about-haskell/index.html" title="Предыдущая глава"><span class="fa fa-hand-o-left"></span></a>
            </div>
        </div>
    </div>
    
    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
        <div class="clear-button text-right">
            <div class="chapters-selector">
                <a href="../../ru/about-haskell/types-three-foundations.html" title="Следующая глава"><span class="fa fa-hand-o-right"></span></a>
            </div>
        </div>
    </div>
</div>
<div style="padding-top: 40px;"><div>

<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'ohaskell'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
 

        </div> 

        <footer class="footer">
            Книга создана с помощью <strong><a href="http://jaspervdj.be/hakyll/" target="_blank">Hakyll</a></strong> и живёт на <strong><a href="https://github.com/denisshevchenko/ohaskell" target="_blank">GitHub</a></strong>.
            <div class="copyright-note">
                Исходный код сайта и содержимое книги распространяются на условиях <a href="https://github.com/denisshevchenko/ohaskell/blob/master/LICENSE" target="_blank">свободной лицензии MIT</a>.
            </div>
        </footer>
    </div>
  </body>
</html>


