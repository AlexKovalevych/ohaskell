Неизменность данных
-------------------

Одним из фундаментальных свойств Haskell языка является отсутствие оператора присваивания.

Это именно то свойство, услышав о котором впервые, я не поверил своим ушам. Каким образом можно программировать без оператора присваивания? А как же мы будем изменять состояние наших переменных? Моё удивление можно было понять: в процессе написания кода на C++ я часто использую оператор присваивания.

Чтобы разобраться, рассмотрим такую строку:

    a = 123

В императивном языке такая инструкция означает присваивание. В этом случае мы приказываем: "Возьми совокупность байтов, соответствующую значению `123`, и замени ею ту совокупность байтов, которая хранилась в переменной `a` до этого". Таким образом, происходит перезапись старого значения новым.

Однако в чисто функциональном языке такая инструкция означает то же, что она означает в математике, а именно равенство. В этом случае мы объявляем: "Значение `a` равно `123`".

Вы спросите, в чём разница? Мы в любом случае получаем переменную `a` со значением `123`. А разница в том, что присваивание может происходить множество раз в отношении одной и той же переменной, в то время как объявление равенства может быть указано только единожды. Поэтому если мы объявили, что значение `a` равно `123`, то так оно и будет, раз и навсегда. Именно поэтому в языке Haskell нет ни понятия "переменная", ни ключевого слова `const`, ведь все значения в нём константны по своей сути.

Вы спросите, как же мы сможем добавить элемент в какую-нибудь коллекцию, если у нас всё константное? Ответ: никак. Мы не можем изменить значение, мы можем лишь создать на его основе новое значение. О памяти не беспокойтесь: выделена она будет автоматически, равно как и уничтожена, ответственность за это ляжет на встроенный в Haskell сборщик мусора.

Вскоре вы убедитесь, что без оператора присваивания можно прекрасно жить.
