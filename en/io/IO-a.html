<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>IO a | О Haskell по-человечески</title>
        
        <link rel="stylesheet" type="text/css" href="../../css/default.css" />
        <link rel="icon" type="image/x-icon" href="../../images/favicon.ico" />
    </head>
    <body>
        <div id="wrapper">

            <div class="ribbon">
                <a href="https://github.com/denisshevchenko/ohaskell">Live on GitHub</a>
            </div>

            <div id="wrapper_2">
            <div id="header">
                <div id="logo">
                    <a href="../../en/index.html" title="Домой">About Haskell humanly</a><span class="logo-note">for ordinary developers</span>
                </div>
                <div id="navigation">
                    <a href="../../en/chapters.html">CONTENTS</a>
                </div>
            </div>

            <div id="content">
                <h1>IO a</h1>

                <div style="padding-top: 10px;"></div>

<div id="prev_arrow">
    <a href="../../en/io/functions-with-side-effects.html">❮</a>
</div>

<div id="next_arrow">
    <a href="../../en/io/do-imperative-world.html">❯</a>
</div>

<p>In order to work with outside world we need actions. And an action is a value of type <code>IO a</code>, where <code>IO</code> is a standard action type and <code>a</code> is a polymorphic type of value which the action returns. As you can see, <code>IO</code> is a type constructor. That’s why the type of action which returns a string is <code>IO String</code>.</p>
<p>From the logical point of view, action is our ambassador, when we ask he goes to the outside world, does some work and brings us something interesting from the outside world. However, he might come back empty-handed.</p>
<h2 id="standard-input-and-output">Standard Input and Output</h2>
<p>Let us start with standard channels stdout and stdin. Let’s output a string to the screen:</p>
<pre class="sourceCode haskell"><code class="sourceCode haskell">main <span class="fu">=</span> putStrLn <span class="st">&quot;Hi Haskeller!&quot;</span></code></pre>
<p>Take a look at the type of function <code>putStrLn</code>:</p>
<pre class="sourceCode haskell"><code class="sourceCode haskell">putStrLn<span class="ot"> ::</span> <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">IO</span> ()</code></pre>
<p>We face <code>IO</code>, and therefore, that function has a side effect. We have a string on input and an action on output. Let’s take a closer look:</p>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">IO</span> ()</code></pre>
<p>Lonely parentheses are telling us about an empty tuple. Therefore, we have an action, which does its job in the outside world and brings us nothing. When we send this action to the outside world, we tell it, “Just go and print that string on the computer’s screen”. But as the designers of Haskell agreed that action must return something – let it return an empty tuple. It’s like a <code>void</code>-function in the C language: you might say that it returns nothing, but you also might say that it returns <code>void</code>.</p>
<p>Now let’s take a look at the type of function <code>getLine</code>, which gets the string from the standard input:</p>
<pre class="sourceCode haskell"><code class="sourceCode haskell">getLine<span class="ot"> ::</span> <span class="dt">IO</span> <span class="dt">String</span></code></pre>
<p>Here we have an opposite situation. That function takes nothing from us as there is nothing we could give it, so the action is created but that function goes to the outside world empty-handed. We tell it, “Go, get us the string from the standard input”.</p>
<h2 id="defining-main">Defining main</h2>
<p>Finally, we can take a look at the type of the main function of the application:</p>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">main ::</span> <span class="dt">IO</span> ()</code></pre>
<p>Function <code>main</code> also performs an action – the whole work of our application. It returns nothing to the application, after all when its execution is finished everything ends. Of course, all actions in our application are doing nothing, having sweet dreams until the action of function <code>main</code> is fired.</p>
<p>We haven’t yet defined that function because we just found out about <code>IO</code>. However, if we want to keep things in order, we have to do it now.</p>
<h2 id="teamwork">Teamwork</h2>
<p>Here it is:</p>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">main ::</span> <span class="dt">IO</span> ()
main <span class="fu">=</span> <span class="kw">do</span>
    putStrLn <span class="st">&quot;Input your text, please:&quot;</span>
    lineFromUser <span class="ot">&lt;-</span> getLine
    putStrLn <span class="fu">$</span> <span class="st">&quot;Not bad: &quot;</span> <span class="fu">++</span> lineFromUser</code></pre>
<p>It’s perfectly clear, except two new things.</p>
<p>Firstly, the back-arrow <code>&lt;-</code>. Take a look:</p>
<pre class="sourceCode haskell"><code class="sourceCode haskell">lineFromUser <span class="ot">&lt;-</span> getLine</code></pre>
<p>That’s a bind. We tell to action which was created by function <code>getLine</code>: “Go, get us the line from the user and bind it to its identifier <code>lineFromUser</code>, so that we can read that line”.</p>
<p>Secondly, we met a new keyword <code>do</code>. That deserves a special discussion which you’ll find in the next chapter.</p>

<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'ohaskell'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
 

            </div>
            
            <div id="footer">
                <div id="social">
                    © Denis Shevchenko 2013-2014
                </div>
                <div id="hakyll_mark">
                    Created by <a href="http://jaspervdj.be/hakyll">Hakyll</a>
                </div>
            </div>

            <div id="search_form">
                <script>
                  (function() {
                    var cx = '007697214108744450483:py6mcdzwavw';
                    var gcse = document.createElement('script');
                    gcse.type = 'text/javascript';
                    gcse.async = true;
                    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
                        '//www.google.com/cse/cse.js?cx=' + cx;
                    var s = document.getElementsByTagName('script')[0];
                    s.parentNode.insertBefore(gcse, s);
                  })();
                </script>
                <gcse:search></gcse:search>
            </div>
            </div>
        </div>
    </body>
</html>
